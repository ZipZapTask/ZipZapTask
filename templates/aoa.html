{% extends 'base.html' %}

{% block title %} Project Network Diagram {% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <div class="p-6">
            <h1 class="text-2xl font-bold text-gray-800 mb-6">Project Network Diagram</h1>

            <div class="mb-8 ">
                <pre class="mermaid w-full min-h-[400px] border rounded p-4 bg-gray-50 overflow-x-scroll">
                    graph LR
                      A([Project Charter]) -- A:4 --> B([WBS])
                      B -- C:4 --> D([Statements of Work])
                      B -- D:4 --> E([Framework Chosen])
                      B -- B:0 --> C([Github Repo Creation])
                      C -- E:1 --> E
                      C -- F:7 --> F([Landing Page Design & Mockup])
                      D -- H:3 --> G([Cost Estimate])
                      F -- K:7 --> H([Basic Landing Page Developed])
                      G -- I:1 --> F
                      E -- L:7 --> F
                      H -- M:21 --> I([Remainder of Project Developed])
                      I -- N:4 --> J([Project Completion])
                </pre>
            </div>

            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-gray-100 p-4 rounded">
                    <h2 class="text-xl font-semibold mb-4">Path Analysis</h2>
                    <div class="space-y-2">
                        <p class="text-gray-700">A4>B0>E1>L7>K7>M21>N4 = 44</p>
                        <p class="text-gray-700 font-semibold">A4>D4>L7>K7>M21>N4 = 47</p>
                        <p class="text-gray-700 font-medium">A4>B0>F7>K7>M21>N4 = 43</p>
                        <p class="text-gray-700">A4>C4>H3>I1>K7>M21>N4 = 44</p>
                    </div>
                </div>

                <div class="bg-blue-50 px-6 rounded">
                    <h2 class="text-xl font-semibold mb-4">Critical Path Analysis</h2>
                    <div class="space-y-2">
                        <p>
                            <strong>Critical Path:</strong>
                            A-D-L-K-M-N
                        </p>
                        <p>
                            <strong>Shortest Path(s):</strong>
                            A-D-L-K-M-N, A-B-F-K-M-N
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='node_modules/mermaid/dist/mermaid.js') }}"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        flowchart: {
            useMaxWidth: false,
            htmlLabels: true
        }
    });
</script>
{% endblock %}